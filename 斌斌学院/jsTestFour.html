<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>IFE JavaScript Task 01</title>
</head>
<style type="text/css">

     ul li{ 
            width: 20px; height: 20px; margin-right: 20px;
            background: #ff0094;
            list-style: none;
            float: left;         
        }

	
</style>
<body>
	
    <div id="mydiv"> 
    <input type="text" name="num" id="num">
    <button id="leftenter"  name="leftenter" >  左侧入</button>
    <button id="leftquit"  name="leftquit">  左侧出</button>
    <button id="rightenter" name="rightenter">  右侧入</button>
    <button  id="rightquit" name="rightquit">  右侧出</button>
    <ul id="ul">
   
    </ul>
    </div>
<script type="text/javascript">
	window.onload=function(){
		var le=document.getElementById("leftenter");
		var lq=document.getElementById("leftquit");
		var re=document.getElementById("rightenter");
		var rq=document.getElementById("rightquit");
		var num=document.getElementById("num");
		var ul=document.getElementById("ul");
    


     le.onclick=function(){
   var li=document.createElement("li"); 
  var reg=/^[0-9]$/;
  if(!reg.test(num.value)){
  	alert("请输入数字");
  	  return false;
  }
 else{
 	if(ul.getElementsByTagName("li").length > 0)
  	{
  		var f=ul.getElementsByTagName("li")[0];
  		ul.appendChild(li);
  		li.innerHTML= num.value;
  		ul.insertBefore(li, f   );
  	}
    else{
		ul.appendChild(li);
  		li.innerHTML=num.value;
  	}
    return true;
  }  
}

   lq.onclick=function(){
      var li=document.createElement("li"); 
var li0=ul.getElementsByTagName("li"); 
 if(li0.length>0)
	{ul.removeChild(li0[0]);}  
	else {alert("没有元素可删除");}
      
       }    
    re.onclick=function(){
      var li=document.createElement("li"); 
       var reg=/^[0-9]$/;
    	if(!reg.test(num.value)){
  	alert("请输入数字");
  	  return false;
  }
 else{
 	if(ul.getElementsByTagName("li").length > 0)
  	{
  		var f=ul.getElementsByTagName("li")[0];

  		ul.appendChild(li);
  		li.innerHTML= num.value;
  		ul.insertAfter(li, f.lastChild);
  	}
    else{
		ul.appendChild(li);
  		li.innerHTML=num.value;
  	}
    return true;
  }   }     

rq.onclick=function(){
  
 var li=document.createElement("li"); 	
var li0=ul.getElementsByTagName("li"); 
 if(li0.length>0)
	{ul.removeChild(ul.lastChild);}  
	else {alert("没有元素可删除");}
}
//insertAfter 函数
function insertAfter(newElement, targetElement){ 
var parent = targetElement.parentNode; 
if (parent.lastChild == targetElement) { 
// 如果最后的节点是目标元素，则直接添加。因为默认是最后 
parent.appendChild(newElement); 
} 
else { 
parent.insertBefore(newElement, targetElement.nextSibling); 
//如果不是，则插入在目标元素的下一个兄弟节点 的前面。也就是目标元素的后面 
} 
} 



}
  
</script>
</body>
</html>